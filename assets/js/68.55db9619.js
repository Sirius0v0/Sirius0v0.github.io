(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{536:function(t,s,a){"use strict";a.r(s);var n=a(14),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"如何在cmake中设置对象的属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何在cmake中设置对象的属性"}},[t._v("#")]),t._v(" 如何在CMake中设置对象的属性")]),t._v(" "),a("h2",{attrs:{id:"set-property命令设置属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#set-property命令设置属性"}},[t._v("#")]),t._v(" "),a("code",[t._v("set_property")]),t._v("命令设置属性")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_executable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main main.cpp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 采用 C++17 标准进行编译")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TARGET main PROPERTY "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("CXX_STANDARD")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果编译器不支持 C++17，则直接报错（默认 OFF）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TARGET main PROPERTY "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("CXX_STANDARD_REQUIRED")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("ON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在 Windows 系统中，运行时不启动控制台窗口，只有 GUI 界面（默认 OFF）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TARGET main PROPERTY "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("WIN32_EXECUTABLE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("ON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 告诉编译器不要自动剔除没有引用符号的链接库（默认 OFF）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TARGET main PROPERTY "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("LINK_WHAT_YOU_USE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("ON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置动态链接库的输出路径（默认 ${CMAKE_BINARY_DIR}）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TARGET main PROPERTY "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("LIBRARY_OUTPUT_DIRECTORY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_SOURCE_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/lib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置静态链接库的输出路径（默认 ${CMAKE_BINARY_DIR}）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TARGET main PROPERTY "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("ARCHIVE_OUTPUT_DIRECTORY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_SOURCE_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/lib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置可执行文件的输出路径（默认 ${CMAKE_BINARY_DIR}）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TARGET main PROPERTY "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("RUNTIME_OUTPUT_DIRECTORY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_SOURCE_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"set-target-properties命令批量设置属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#set-target-properties命令批量设置属性"}},[t._v("#")]),t._v(" "),a("code",[t._v("set_target_properties")]),t._v("命令批量设置属性")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_executable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main main.cpp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_target_properties")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("PROPERTIES")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("CXX_STANDARD")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("CXX_STANDARD_REQUIRED")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("ON")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("WIN32_EXECUTABLE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("ON")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("LINK_WHAT_YOU_USE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("ON")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("LIBRARY_OUTPUT_DIRECTORY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_SOURCE_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/lib\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("ARCHIVE_OUTPUT_DIRECTORY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_SOURCE_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/lib\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("RUNTIME_OUTPUT_DIRECTORY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_SOURCE_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/bin\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"set命令全局设置属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#set命令全局设置属性"}},[t._v("#")]),t._v(" "),a("code",[t._v("set")]),t._v("命令全局设置属性")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_CXX_STANDARD")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_CXX_STANDARD_REQUIRED")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("ON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_WIN32_EXECUTABLE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("ON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_LINK_WHAT_YOU_USE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("ON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_LIBRARY_OUTPUT_DIRECTORY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_SOURCE_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/lib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_ARCHIVE_OUTPUT_DIRECTORY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_SOURCE_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/lib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_RUNTIME_OUTPUT_DIRECTORY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_SOURCE_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_executable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main main.cpp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"如何避免手动拷贝dll"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何避免手动拷贝dll"}},[t._v("#")]),t._v(" 如何避免手动拷贝dll？")]),t._v(" "),a("blockquote",[a("p",[t._v("答：设置模块 "),a("code",[t._v("xx_OUTPUT_DIRECTORY")]),t._v(" 系列属性，将xxx.dll直接输出到main所在目录。")])]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_library")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mylib "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("SHARED")]),t._v(" mylib.cpp mylib.h"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TARGET mylib PROPERTY "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("RUNTIME_OUTPUT_DIRECTORY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("PROJECT_BINARY_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TARGET mylib PROPERTY "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("ARCHIVE_OUTPUT_DIRECTORY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("PROJECT_BINARY_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TARGET mylib PROPERTY "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("LIBRARY_OUTPUT_DIRECTORY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("PROJECT_BINARY_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TARGET mylib PROPERTY "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("RUNTIME_OUTPUT_DIRECTORY_DEBUG")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("PROJECT_BINARY_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TARGET mylib PROPERTY "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("ARCHIVE_OUTPUT_DIRECTORY_DEBUG")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("PROJECT_BINARY_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TARGET mylib PROPERTY "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("LIBRARY_OUTPUT_DIRECTORY_DEBUG")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("PROJECT_BINARY_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TARGET mylib PROPERTY "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("RUNTIME_OUTPUT_DIRECTORY_RELEASE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("PROJECT_BINARY_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TARGET mylib PROPERTY "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("ARCHIVE_OUTPUT_DIRECTORY_RELEASE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("PROJECT_BINARY_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TARGET mylib PROPERTY "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("LIBRARY_OUTPUT_DIRECTORY_RELEASE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("PROJECT_BINARY_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);